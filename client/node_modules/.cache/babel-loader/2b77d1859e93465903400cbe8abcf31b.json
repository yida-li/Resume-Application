{"ast":null,"code":"var _jsxFileName = \"/home/king/Desktop/ContactKeeperV2/client/src/components/Auth/Register.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport AlertContext from '../../context/alert/alertContext';\nimport AuthContext from '../../context/auth/authContext';\n\nconst Register = props => {\n  const [user, setUser] = useState({\n    name: '',\n    email: '',\n    password: '',\n    password2: ''\n  });\n  const {\n    name,\n    email,\n    password,\n    password2\n  } = user;\n  const alertContext = useContext(AlertContext);\n  const authContext = useContext(AuthContext);\n  const {\n    isAuthenticated,\n    error,\n    clearErrors,\n    register\n  } = authContext;\n  const {\n    setAlert\n  } = alertContext;\n  useEffect(() => {\n    // If we are logged in successfully, redirect to the home page\n    if (isAuthenticated) {\n      props.history.push('/');\n    }\n\n    if (error === 'User already exists') {\n      setAlert(error, 'danger');\n      clearErrors();\n    } //eslint-disable-next-line\n\n  }, [error, props.history, isAuthenticated]);\n\n  const onChange = e => setUser({ ...user,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n    let valid = true;\n\n    if (name === '' || email === '' || password === '') {\n      valid = false;\n      setAlert('Please enter all fields', 'danger');\n    }\n\n    if (password !== password2) {\n      valid = false;\n      setAlert('Passwords do not match', 'danger');\n    }\n\n    if (valid) {\n      register({\n        email,\n        name,\n        password\n      });\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"form-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Account \", React.createElement(\"span\", {\n    className: \"text-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Register\")), React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    value: name,\n    onChange: onChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    value: email,\n    onChange: onChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: password,\n    onChange: onChange,\n    required: true,\n    minLength: \"6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"password2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Confirm Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password2\",\n    value: password2,\n    onChange: onChange,\n    required: true,\n    minLength: \"6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Register\",\n    className: \"btn btn-primary btn-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  })));\n};\n\nexport default Register;","map":{"version":3,"sources":["/home/king/Desktop/ContactKeeperV2/client/src/components/Auth/Register.js"],"names":["React","useState","useContext","useEffect","AlertContext","AuthContext","Register","props","user","setUser","name","email","password","password2","alertContext","authContext","isAuthenticated","error","clearErrors","register","setAlert","history","push","onChange","e","target","value","onSubmit","preventDefault","valid"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\nimport AlertContext from '../../context/alert/alertContext'\nimport AuthContext from '../../context/auth/authContext'\n\nconst Register = (props) => {\n    const [user, setUser] = useState({\n        name: '',\n        email: '',\n        password: '',\n        password2: ''\n    })\n\n    const { name, email, password, password2 } = user\n    const alertContext = useContext(AlertContext)\n    const authContext = useContext(AuthContext)\n    const { isAuthenticated, error, clearErrors, register } = authContext\n    const { setAlert } = alertContext\n\n    useEffect(() => {\n        // If we are logged in successfully, redirect to the home page\n        if (isAuthenticated) {\n            props.history.push('/')\n        }\n        if (error === 'User already exists') {\n            setAlert(error, 'danger')\n            clearErrors()\n        }\n        //eslint-disable-next-line\n    }, [error, props.history, isAuthenticated])\n\n\n    const onChange = e => setUser({...user, [e.target.name] : e.target.value})\n\n    const onSubmit = e => {\n        e.preventDefault()\n        let valid = true\n        if (name === '' || email === '' || password === '') {\n            valid = false\n            setAlert('Please enter all fields', 'danger')\n        } \n        if (password !== password2) {\n            valid = false\n            setAlert('Passwords do not match', 'danger')\n        } \n        if (valid) {\n            register({\n                email,\n                name,\n                password\n            })\n            \n        }       \n    }\n\n    return (\n        <div className= \"form-container\">\n            <h1>\n                Account <span className= \"text-primary\">Register</span>\n            </h1>\n            <form onSubmit = {onSubmit}>\n                <div className= \"form-group\">\n                    <label htmlFor= \"name\">Name</label>\n                    <input type= \"text\" name=\"name\" value= {name} onChange = {onChange} required/>\n                </div>\n                <div className= \"form-group\">\n                <label htmlFor= \"email\">Email</label>\n                    <input type= \"email\" name=\"email\" value= {email} onChange = {onChange} required/>\n                </div>\n                <div className= \"form-group\">\n                <label htmlFor= \"password\">Password</label>\n                    <input type= \"password\" name=\"password\" value= {password} onChange = {onChange} required minLength= \"6\"/>\n                </div>\n                <div className= \"form-group\">\n                    <label htmlFor= \"password2\">Confirm Password</label>\n                    <input type= \"password\" name=\"password2\" value= {password2} onChange = {onChange} required minLength= \"6\"/>\n                </div>\n                <input type= \"submit\" value= \"Register\" className= \"btn btn-primary btn-block\" />\n            </form>\n        </div>\n    )\n}\n\nexport default Register\n"]},"metadata":{},"sourceType":"module"}